<html metal:use-macro="main_template">
    <div metal:fill-slot="content" class="row-fluid">

        <!-- Networking panel -->
        <div class="span4 tethr-panel">
            <div class="tethr-icon">
                <img src="${layout.static('img/wifi.svg')}" alt="Wifi Up"
                     tal:condition="wifi['up']"/>
                <img src="${layout.static('img/wifi.svg')}" alt="Wifi Down"
                     tal:condition="not wifi['up']"/>
            </div>
            <p>
            <div>Wi-Fi: ${'Good' if wifi['up'] else 'Not Running'}</div>
            <div tal:condition="wifi['up']">
                Essid: ${wifi['essid']}
            </div>
            </p>
            <div class="tethr-icon">
                <img src="${layout.static('img/wifi.svg')}" alt="Wan Good"
                  tal:condition="wan['status'] == 'Good'">
                <img src="${layout.static('img/wifi.svg')}" alt="Wan Slow"
                   tal:condition="wan['status'] == 'Slow'">
                <img src="${layout.static('img/wifi.svg')}" alt="Wan Down"
                   tal:condition="wan['status'] not in ('Good', 'Slow')">
            </div>
            <p>
            <div>WAN: ${wan['status']}
                <span tal:condition="wan['rate']">${wan['rate']}</span>
            </div>
            </p>
            <p>
                <a href="${manage_networks_url}">Manage networks</a>
            </p>
        </div>

        <!-- Power panel -->
        <div class="span4 tethr-panel">
            <div class="tethr-icon">
                <img src="${layout.static('img/battery.svg')}" alt="Battery">
            </div>
            <p><div>${battery['percent_left']}% 
              <span tal:condition="battery['time_left']">
                  ${battery['time_left']} left</span></div></p>
            <div class="tethr-icon">
                <img src="${layout.static('img/sun.svg')}" alt="Sun" 
                     tal:condition="solar['sunny']">
                <img src="${layout.static('img/clouds.svg')}" alt="Clouds" 
                     tal:condition="not solar['sunny']">
            </div>
            <p>
            <div>
                ${solar['output']} V
            </div>
            </p>
            <p>
                <a href="${power_log_url}">View Log</a>
            </p>
        </div>

        <!-- File synchronization panel -->
        <div class="span4 tethr-panel">
            <div class="tethr-icon">
                <img src="${layout.static('img/files-green.svg')}" alt="Synched" 
                     tal:condition="files['in_sync']">
                <img src="${layout.static('img/sync.svg')}" alt="In progress" 
                     tal:condition="not files['in_sync']">
            </div>
            <p><div>Last-sync: ${files['last_sync']}</div></p>
            <p>
                <a href="${manage_sync_url}">Manage File Synchronization</a>
            </p>
        </div>
    </div>
</html>
